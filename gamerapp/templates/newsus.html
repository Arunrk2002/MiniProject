<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GameExplorer</title>
    <link rel="stylesheet" href="/static/css/style.css" />
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>


<body>
    <header>
        <a href="/indexus" class="logo">GameExplorer</a>
        <div class="action">
            <div class="searchbx">
                <a href="#"><i class='bx bx-search'></i></a>
                <input type="text" placeholder="Search Here">
            </div>
        </div>
        <ul class="nav">
            <li><a href="/homeus">Home</a></li>
            <li><a href="/newsus">News</a></li>
            <li><a href="/join">Tournaments</a></li>
            <li><a href="/spec">PC-SPEC</a></li>
            <li class="dropdown">
                <a href="#" class="profile-btn"><i class='bx bx-user'></i> Profile <i class='bx bx-chevron-down'></i></a>
                <ul class="dropdown-menu">
                    <li><a href="/profile">Profile</a></li>
                    <li><a href="/logout_view">Log Out</a></li>
                </ul>
            </li>
        </ul>
    </header>

    <div class="news">


        <h2>Upcoming Games</h2>
        <div class="boxBx">
            {% for game in upcoming_games %}
            <div class="box">
                <img src="{{ game.image.url }}" alt="{{ game.title }}">
                <div class="content">
                    <h4>{{ game.title }}</h4>
                    <p>Genre: {{ game.genre }}</p>
                    <p>Release Date: {{ game.release_date }}</p>
                    <p>Platform: {{ game.platform }}</p>
                    <div class="btn">
                        <a href="{{ game.website_url }}" class="watch">Website</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    <script>
        window.addEventListener('scroll', function () {
            var header = document.querySelector('header');
            header.classList.toggle('sticky', window.scrollY > 0);
        });

        document.addEventListener('DOMContentLoaded', function () {
            // Get the profile button and dropdown menu
            const profileButton = document.querySelector('.profile-btn');
            const dropdownMenu = document.querySelector('.dropdown-menu');

            // Initially hide the dropdown on page load
            dropdownMenu.style.display = 'none';

            // Add click event listener to toggle the dropdown on profile button click
            profileButton.addEventListener('click', function (e) {
                e.preventDefault();  // Prevent default anchor behavior

                // Toggle the dropdown display between 'block' and 'none'
                dropdownMenu.style.display = dropdownMenu.style.display === 'block' ? 'none' : 'block';
            });

            // Close the dropdown if the user clicks outside of it
            window.addEventListener('click', function (e) {
                if (!profileButton.contains(e.target) && !dropdownMenu.contains(e.target)) {
                    dropdownMenu.style.display = 'none';  // Hide the dropdown
                }
            });
        });
    </script>
</body>
</html>
